function getdata(e,t,n=function(e){}){let a=new XMLHttpRequest;a.open("POST","/"+e,!0),a.setRequestHeader("Content-Type","application/json; charset=utf-8"),a.send(JSON.stringify(t)),a.onreadystatechange=function(){4==a.readyState&&(ans=JSON.parse(a.responseText),console.log(ans),n(ans))}}document.querySelectorAll("div[data-href]").forEach(e=>{"ready"==e.dataset.href&&e.addEventListener("click",()=>{e.classList.add("hidden"),e.parentElement.querySelector(".btn-dark").classList.add("hidden"),e.parentElement.querySelector(".btn-warning").classList.add("hidden"),getdata("ready/"+e.dataset.id,{},t=>{!0===t.status&&(e.innerHTML="Выполнено "+e.innerHTML,e.classList.remove("hidden"))})})});